---
description: 此页面将讲述如何编写适用于miaospeed的测试脚本
---

# 测试脚本编写

## 前言

要完成一个全新的脚本，需要一定的计算机基础知识，如果你是脚本的使用者，而非开发者，那么你可以关闭本文章了。

前置条件：

* 基本的编程语言常识，不要求掌握，但要了解变量声明，运算符，表达式，条件语句等基础概念。
* 了解基本的HTTP协议。

## 开发语言

* Javascript （js）（大部分）
* Go （少量）

## Javascript 引擎

MiaoSpeed(以下简称ms)的开发语言为Go，但是大部分测试脚本却是用js写的。这得益于ms使用了一个名为 [goja](https://github.com/dop251/goja) 的js 执行引擎实现库，支持 ECMAScript 5.1(+)的全部语法特性，并且拥有很可观的性能。

## 测试脚本本质

脚本本质是通过预设函数fetch、netcat 发起网络通信，脚本此时处于代理状态，会返回落地代理服务器请求的网页内容，根据内容执行业务逻辑，最后返回文本结果。主要的应用是，判断流媒体在该落地是否可用。这类脚本也称做流媒体检测脚本。
