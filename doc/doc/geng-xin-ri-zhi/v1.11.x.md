# v1.11.X



<details>

<summary>1.11.5</summary>



1. 优化了对于inviteGroup群组权限的判断逻辑，现在/invite指令非用户级别使用时，不会响应外部引用消息
2. 修复了（因第8条更新内容）测连通性测试无法出图的问题
3. 修复 bot.echoLimit部分情况下无法生效的问题，现在Bot的感知已正常，不会再出现大量消息刷屏的场景
4. 优化dev通道的编译脚本
5. /checkslave添加真延迟检测
6. 删除checkslave结果中的冗余字段（95th百分比）
7. 添加dev分支测试通道，此测试通道更新最频繁，但可能会产生不稳定更新，适合新功能尝鲜的用户群体，现已在docker中可用，使用标签dev即可拉取dev镜像
8. 新增image.color.font 配置项，用于改变绘图字体颜色
9. 现在回调功能产生的错误不会暴露回调服务器的地址
10. 针对引用消息测试优化，当使用测试指令回复引用消息时，会读取引用消息的文本内容。也就是说，如果引用消息的文本内容不是这条消息的全部内容，则仅会读取引用消息
11. 现在支持跨群引用消息测试，但仅支持有权限的用户使用
12. 为回调服务中的数据请求头显式指定：{"Content-Type": "application/json"}
13. 支持onPreSend端点原路返回修改过后回调数据，用来支持动态覆写回调数据。另一种说法是，可以对回调数据进行修改，然后把修改后的数据按原格式返回给主端，这样就可以修改内部运行参数，做到动态修改后端、绘图参数等功能
14. GEOIP脚本维护性更新，修复了详细地区的信息获取失败的问题

</details>



<details>

<summary>1.11.4</summary>



1. 优化了加入群组时的提示信息。
2. 修复通过/panel修改配置时，部分配置丢失令人迷惑的问题。
3. HTTP回调新增replyToMessage字段，此外，对回调发送的结构体数据体积进行了优化
4. 当水印配置中启用追踪UID功能时（image.watermark.trace=true），将自动在TG消息结果中加入索引标签。
5. 项目内部架构优化，使用uv进行版本管理，改进了编译脚本。

热更新：

1. 现在删除了回调传递的很多数据，以及加了一些新的字段，需要更新回调服务器的处理逻辑。

</details>



<details>

<summary>1.11.3</summary>



1. 修复因代码重构导致的无法排序的问题
2. 修复当客户端为未完成ws连接时，中止测速按钮不生效的问题

</details>



<details>

<summary>1.11.2</summary>



hotfix:

1. 修复runtime配置的生效问题，优先级已回退至先前版本

1) 支持输出炫彩文字以提高视觉冲击力，用法 /speed?output=video 即可开启
2) 新增RTT排序按钮
3) 修改bot会话重试次数为5次，之前是10次
4) 禁用一些debug输出日志
5) 新增/demo指令

v1.11.2 (2025-06-22)

1. 降低炫彩文字的对比度和亮度
2. 新增配置 runtime.protectContent ，设置为true后bot发送的图片不允许转发和复制
3. 改动RTT排序按钮位置使其更自然
4. 实时渲染新增进度条显示
5. 修复/demo指令影响配置文件值
6. docker版自带ffmpeg，无需额外安装。但是二进制打包需要自行安装ffmpeg。

输出炫彩文字的要求：

1. 需要系统安装ffmpeg，并配置好环境变量
2. 需要至少2GB的内存，否则容易爆内存
3. 图片帧的宽必须大于高，意味着你不能太多节点，建议30以内

</details>



<details>

<summary>1.11.1</summary>



1. 优化docker中sub-store自动部署效果
2. 为koipy二进制添加新的图标、描述信息、版本信息、作者信息

</details>



<details>

<summary>1.11.0</summary>



⚠️ 此版本为破坏性改动版本，请谨慎升级！

1. 修复copilot脚本
2. 升级Pyrogram版本到2.2.0
3. 由于升级Pyrogram版本，建议所有用户删除同目录的下 mybot.session 文件，以避免出现兼容问题，如担心出错，请直接复制配置文件重装
4. 优化了在公开群组中调用TG API的次数
5. 优化了部分代码结构
6. 更好的订阅流量信息展示，使用 /subinfo 体验。
7. 现在，subinfo指令默认不再允许游客使用，除非管理员在配置文件中设置了HTTP代理
8. 优化了构建流程，感谢 Joker 提供的arm64机器，现在action中新增linux-arm64 runner

</details>
